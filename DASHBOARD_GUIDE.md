# 웹 대시보드 사용 가이드

## 시작하기

### 1. 대시보드 실행

```bash
streamlit run src/dashboard/app.py
```

브라우저에서 자동으로 `http://localhost:8501`이 열립니다.

### 2. 페이지 구성

대시보드는 총 5개의 페이지로 구성되어 있습니다:

#### 📊 메인 대시보드 (홈)
- **위치**: 첫 화면
- **기능**:
  - 상위 5개 종목 테이블
  - 요약 통계 (평균 수익률, 최고 수익률 등)
  - 포트폴리오 구성 파이 차트
  - 전날 대비 변화
  - 기술적 분석 요약
  - 매매 신호
  - 백테스팅 성과

#### 🔍 종목 상세
- **위치**: 사이드바 > 종목 상세
- **기능**:
  - 종목 선택 (상위 5개 중)
  - 캔들스틱 차트 + 이동평균선
  - 기술적 분석 상세 정보
  - 차트 기간 조정 (1개월 ~ 2년)
- **사용법**:
  1. 상단 드롭다운에서 종목 선택
  2. 사이드바에서 차트 기간 선택
  3. 차트를 줌/패닝하여 상세 확인

#### 💰 백테스팅 결과
- **위치**: 사이드바 > 백테스팅 결과
- **기능**:
  - 포트폴리오 가치 변화 그래프
  - 일별 수익률 차트
  - MDD (최대낙폭) 시각화
  - 성과 지표 (총 수익률, 연환산 수익률, 샤프비율, 승률)
  - 최고/최악의 거래일
- **해석**:
  - 총 수익률: 전체 기간 동안의 수익률
  - 연환산 수익률: 1년으로 환산한 수익률
  - MDD: 최대 손실 폭 (낮을수록 좋음)
  - 샤프비율: 위험 대비 수익 (1.0 이상이면 양호)

#### 📅 히스토리 탐색
- **위치**: 사이드바 > 히스토리 탐색
- **기능**: 3개 탭으로 구성
  
  **탭 1: 날짜별 조회**
  - 특정 날짜의 데이터 확인
  - 전날과 비교
  
  **탭 2: 기간별 비교**
  - 시작일/종료일 선택
  - 평균 수익률 추이 그래프
  - 기간 내 변화 분석
  
  **탭 3: 순위 변화 히트맵**
  - 최근 N일간 순위 변화 시각화
  - 빨강(1위) → 초록(5위)
  - 종목별 순위 지속성 확인

#### ⚙️ 설정
- **위치**: 사이드바 > 설정
- **기능**: 4개 탭으로 구성
  
  **탭 1: 시스템 설정**
  - 현재 설정 확인
  - 스크리너 타입, 백테스팅 기간 등
  
  **탭 2: 알림 설정**
  - Telegram, 이메일, Discord 상태 확인
  - 테스트 메시지 전송
  
  **탭 3: 데이터 관리**
  - 캐시 새로고침
  - 데이터 상태 확인
  
  **탭 4: 정보**
  - 시스템 정보
  - 사용 라이브러리
  - 사용법

### 3. 주요 기능 사용법

#### 스크리너 타입 변경
1. 사이드바에서 "스크리너 타입" 선택
2. "대형주 (Large Cap)" 또는 "초대형주 (Mega Cap)" 선택
3. 자동으로 데이터가 업데이트됨

#### 데이터 새로고침
1. 사이드바에서 "🔄 데이터 새로고침" 버튼 클릭
2. 캐시가 클리어되고 최신 데이터 로드

#### 차트 인터랙션
- **줌**: 마우스 드래그로 영역 선택
- **패닝**: Shift + 드래그
- **리셋**: 더블 클릭
- **호버**: 마우스를 차트 위에 올리면 상세 정보 표시
- **범례**: 클릭하여 항목 숨기기/보이기

### 4. 문제 해결

#### 데이터가 없다고 표시될 때
```bash
# main.py를 먼저 실행하여 데이터 수집
python main.py
```

#### 대시보드가 느릴 때
- "🔄 데이터 새로고침" 버튼으로 캐시 클리어
- 브라우저 캐시 삭제
- 대시보드 재시작

#### 차트가 표시되지 않을 때
- 해당 종목의 데이터가 충분한지 확인
- 인터넷 연결 확인 (yfinance 사용)
- 브라우저 콘솔에서 에러 확인

#### 포트가 이미 사용 중일 때
```bash
# 다른 포트로 실행
streamlit run src/dashboard/app.py --server.port 8502
```

### 5. 팁

#### 효율적인 사용
1. **메인 대시보드**로 시작하여 전체 개요 파악
2. **종목 상세**에서 관심 종목 심층 분석
3. **백테스팅 결과**로 전략 성과 검증
4. **히스토리 탐색**으로 과거 패턴 확인

#### 차트 저장
- 차트 우측 상단의 카메라 아이콘 클릭
- PNG 파일로 다운로드

#### 데이터 내보내기
- 테이블 우측 상단의 다운로드 아이콘 클릭
- CSV 파일로 내보내기 가능

### 6. 주의사항

⚠️ **투자 주의사항**
- 대시보드의 데이터와 분석은 참고용입니다.
- 실제 투자 결정은 신중하게 하시기 바랍니다.
- 백테스팅 결과는 과거 데이터 기반이며, 미래 성과를 보장하지 않습니다.

⚠️ **기술적 주의사항**
- 기술적 분석은 yfinance API에 의존합니다.
- API 호출 제한이 있을 수 있습니다.
- 주말/공휴일에는 최신 데이터가 없을 수 있습니다.

## 고급 사용법

### 다중 스크리너 비교
1. 브라우저 탭을 2개 열기
2. 각 탭에서 다른 스크리너 타입 선택
3. 대형주 vs 초대형주 비교

### 커스텀 분석 기간
히스토리 탐색 페이지에서:
1. "기간별 비교" 탭 선택
2. 원하는 시작일/종료일 선택
3. 커스텀 기간의 성과 확인

### 순위 변화 패턴 분석
히트맵에서:
- 수평선이 길게 나타나는 종목 = 안정적
- 자주 나타났다 사라지는 종목 = 변동성 높음
- 최근 들어온 종목 = 새로운 모멘텀

## 도움말

더 많은 정보는 `README.md`를 참고하세요.

문제가 발생하면:
1. 로그 확인 (`daily_data/logs/`)
2. GitHub Issues 활용
3. config.py 설정 재확인


